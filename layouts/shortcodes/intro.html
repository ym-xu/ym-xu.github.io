<div class="intro">
  <div class="intro-text">
    {{ .Inner | markdownify }}
  </div>
  {{ $img := or (.Get "img") .Page.Params.avatar }}
  {{ if $img }}
    {{ $res := .Page.Resources.GetMatch $img }}
    {{ $alt := .Get "alt" | default .Page.Params.avatarAlt | default "Portrait" }}
    <div class="intro-media">
      {{ if $res }}
        <img src="{{ $res.RelPermalink }}" alt="{{ $alt }}" loading="lazy" decoding="async" />
      {{ else if hasPrefix $img "/" }}
        <img src="{{ $img | relURL }}" alt="{{ $alt }}" loading="lazy" decoding="async" />
      {{ else }}
        <img src="{{ $img }}" alt="{{ $alt }}" loading="lazy" decoding="async" />
      {{ end }}
      {{ $s := .Page.Params.social }}
      {{ if $s }}
      <div class="intro-social">
        {{ with $s.linkedin }}
          <a class="social-link icon icon-linkedin" href="{{ . }}" aria-label="LinkedIn" title="LinkedIn" target="_blank" rel="noopener">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <rect x="3" y="3" width="18" height="18" rx="2"/>
              <line x1="8" y1="11" x2="8" y2="16"/>
              <circle cx="8" cy="8" r="1"/>
              <path d="M12 16v-3a2 2 0 0 1 2-2h0a2 2 0 0 1 2 2v3"/>
            </svg>
          </a>
        {{ end }}
        {{ with $s.github }}
          <a class="social-link icon icon-github" href="{{ . }}" aria-label="GitHub" title="GitHub" target="_blank" rel="noopener">
            <svg viewBox="0 0 16 16" width="18" height="18" fill="currentColor" aria-hidden="true">
              <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.01.08-2.11 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.91.08 2.11.51.56.82 1.27.82 2.15 0 3.06-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38C13.71 14.53 16 11.54 16 8 16 3.58 12.42 0 8 0z"></path>
            </svg>
          </a>
        {{ end }}
        {{ with $s.scholar }}
          <a class="social-link icon icon-scholar" href="{{ . }}" aria-label="Google Scholar" title="Google Scholar" target="_blank" rel="noopener">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d="M12 3l9 6-9 6-9-6 9-6z"/>
              <path d="M21 12v5a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-5"/>
            </svg>
          </a>
        {{ end }}
        {{ with $s.orcid }}
          <a class="social-link icon icon-orcid" href="{{ . }}" aria-label="ORCID" title="ORCID" target="_blank" rel="noopener">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <circle cx="12" cy="12" r="9"/>
              <line x1="9" y1="8" x2="9" y2="16"/>
              <circle cx="15" cy="12" r="3"/>
            </svg>
          </a>
        {{ end }}
        {{ with $s.twitter }}
          <a class="social-link icon icon-twitter" href="{{ . }}" aria-label="Twitter" title="Twitter" target="_blank" rel="noopener">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d="M4 19l16-14M20 19L4 5"/>
            </svg>
          </a>
        {{ end }}
        {{ with $s.website }}
          <a class="social-link icon icon-website" href="{{ . }}" aria-label="Website" title="Website" target="_blank" rel="noopener">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <circle cx="12" cy="12" r="9"/>
              <path d="M3 12h18M12 3a15 15 0 0 1 0 18M12 3a15 15 0 0 0 0 18"/>
            </svg>
          </a>
        {{ end }}
        {{ with $s.email }}
          {{ $mailto := cond (hasPrefix . "mailto:") . (print "mailto:" .) }}
          <a class="social-link icon icon-email" href="{{ $mailto }}" aria-label="Email" title="Email">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <rect x="3" y="5" width="18" height="14" rx="2"/>
              <path d="M3 7l9 6 9-6"/>
            </svg>
          </a>
        {{ end }}
      </div>
      {{ end }}
    </div>
  {{ end }}
</div>
